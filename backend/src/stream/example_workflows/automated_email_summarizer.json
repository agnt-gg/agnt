{
  "id": "42067c5f-aa28-4b99-a29b-c45a6c51fff4",
  "name": "Automated Email Summarizer",
  "nodes": [
    {
      "id": "receiveEmail",
      "text": "Receive Email",
      "x": 816,
      "y": 176,
      "type": "receive-email",
      "icon": "inbox",
      "category": "trigger",
      "parameters": { "emailAddress": "summarize@example.com" },
      "outputs": { "from": "", "subject": "", "body": "", "attachments": [] },
      "description": "This trigger node listens for incoming emails and triggers the workflow when a new email is received.",
      "isSelected": false
    },
    {
      "id": "summarizeEmail",
      "text": "Summarize Email",
      "x": 816,
      "y": 240,
      "type": "generate-with-ai-llm",
      "icon": "magic",
      "category": "action",
      "parameters": {
        "provider": "Anthropic",
        "model": "claude-3-haiku-20240307",
        "prompt": "Summarize the following email content. Provide a JSON object with these properties:\n- summary: (a concise summary of the email content in 2-3 sentences)\n- keyPoints: (an array of up to 5 key points from the email)\n- actionItems: (an array of any action items or tasks mentioned in the email)\n- sentiment: (overall sentiment of the email: positive, neutral, or negative)\n\nEmail Subject: {{receiveEmail.subject}}\nEmail Body: {{receiveEmail.body}}\n\nReturn ONLY the JSON object without any additional text.",
        "maxTokens": "300",
        "temperature": "0.3"
      },
      "outputs": { "generatedText": "", "tokenCount": 0, "error": "" },
      "description": "This action node uses an AI model to summarize the email content.",
      "isSelected": false
    },
    {
      "id": "processResults",
      "text": "Process Results",
      "x": 816,
      "y": 304,
      "type": "execute-javascript",
      "icon": "javascript",
      "category": "utility",
      "parameters": {
        "code": "const emailSummary = {{summarizeEmail.generatedText}};\nconst from = {{receiveEmail.from}};\nconst subject = {{receiveEmail.subject}};\n\nreturn {\n  from,\n  subject,\n  summary: emailSummary.summary,\n  keyPoints: emailSummary.keyPoints,\n  actionItems: emailSummary.actionItems,\n  sentiment: emailSummary.sentiment\n};"
      },
      "outputs": { "result": null, "error": "" },
      "description": "This utility node processes the email summary results and prepares data for the next steps.",
      "isSelected": false
    },
    {
      "id": "generateResponse",
      "text": "Generate Response",
      "x": 816,
      "y": 368,
      "type": "generate-with-ai-llm",
      "icon": "magic",
      "category": "action",
      "parameters": {
        "provider": "Anthropic",
        "model": "claude-3-haiku-20240307",
        "prompt": "Generate a brief, professional response to the summarized email. Use the following information:\n\nFrom: {{processResults.result.from}}\nSubject: {{processResults.result.subject}}\nSummary: {{processResults.result.summary}}\nKey Points: {{processResults.result.keyPoints}}\nAction Items: {{processResults.result.actionItems}}\nSentiment: {{processResults.result.sentiment}}\n\nThe response should:\n1. Thank the sender for their email\n2. Confirm that you've received and summarized their message\n3. Briefly mention the key points you've identified\n4. List any action items that were noted\n5. Provide a short, appropriate response based on the overall sentiment\n6. Offer to provide more details or clarification if needed\n\nKeep the response under 150 words and maintain a professional, friendly tone.",
        "maxTokens": "250",
        "temperature": "0.7"
      },
      "outputs": { "generatedText": "", "tokenCount": 0, "error": "" },
      "description": "This action node generates an appropriate response based on the email summary.",
      "isSelected": false
    },
    {
      "id": "sendResponse",
      "text": "Send Response",
      "x": 816,
      "y": 432,
      "type": "send-email",
      "icon": "outbox",
      "category": "action",
      "parameters": {
        "to": "{{processResults.result.from}}",
        "subject": "Re: {{processResults.result.subject}}",
        "body": "{{generateResponse.generatedText}}",
        "isHtml": false,
        "attachments": []
      },
      "outputs": { "success": false, "messageId": "", "error": null },
      "description": "This action node sends the generated response back to the original sender.",
      "isSelected": false
    },
    {
      "id": "logSummaryData",
      "text": "Log Summary Data",
      "x": 1136,
      "y": 176,
      "type": "execute-javascript",
      "icon": "javascript",
      "category": "utility",
      "parameters": {
        "code": "const logEntry = {\n  timestamp: new Date().toISOString(),\n  from: '{{processResults.result.from}}',\n  subject: '{{processResults.result.subject}}',\n  summary: '{{processResults.result.summary}}',\n  keyPoints: {{processResults.result.keyPoints}},\n  actionItems: {{processResults.result.actionItems}},\n  sentiment: '{{processResults.result.sentiment}}'\n};\n\n// In a real scenario, you would send this data to a database or logging service\nconsole.log('Email Summary Log Entry:', JSON.stringify(logEntry, null, 2));\n\nreturn { logged: true };"
      },
      "outputs": { "result": null, "error": "" },
      "description": "This utility node logs the email summary data for future reference and reporting.",
      "isSelected": false
    },
    {
      "id": "notifyTeam",
      "text": "Notify Team",
      "x": 1136,
      "y": 240,
      "type": "send-email",
      "icon": "outbox",
      "category": "action",
      "parameters": {
        "to": "team@example.com",
        "subject": "New Email Summary: {{processResults.result.subject}}",
        "body": "A new email has been summarized:\n\nFrom: {{processResults.result.from}}\nSubject: {{processResults.result.subject}}\n\nSummary: {{processResults.result.summary}}\n\nKey Points:\n{{processResults.result.keyPoints}}\n\nAction Items:\n{{processResults.result.actionItems}}\n\nSentiment: {{processResults.result.sentiment}}\n\nPlease review and take appropriate action if necessary.",
        "isHtml": false,
        "attachments": []
      },
      "outputs": { "success": false, "messageId": "", "error": null },
      "description": "This action node notifies the team about the new email summary.",
      "isSelected": false
    },
    {
      "id": "emailSummarizerLabel",
      "text": "Automated Email Summarizer",
      "x": 816,
      "y": 112,
      "type": "label",
      "icon": "text",
      "category": "utility",
      "parameters": {},
      "outputs": {},
      "description": "This utility node displays a label for the Automated Email Summarizer workflow.",
      "isSelected": false
    }
  ],
  "edges": [
    {
      "id": "edge1",
      "start": { "id": "receiveEmail", "type": "output" },
      "end": { "id": "summarizeEmail", "type": "input" },
      "startX": 1104,
      "startY": 200,
      "endX": 816,
      "endY": 264
    },
    {
      "id": "edge2",
      "start": { "id": "summarizeEmail", "type": "output" },
      "end": { "id": "processResults", "type": "input" },
      "startX": 1104,
      "startY": 264,
      "endX": 816,
      "endY": 328
    },
    {
      "id": "edge3",
      "start": { "id": "processResults", "type": "output" },
      "end": { "id": "generateResponse", "type": "input" },
      "startX": 1104,
      "startY": 328,
      "endX": 816,
      "endY": 392
    },
    {
      "id": "edge4",
      "start": { "id": "generateResponse", "type": "output" },
      "end": { "id": "sendResponse", "type": "input" },
      "startX": 1104,
      "startY": 392,
      "endX": 816,
      "endY": 456
    },
    {
      "id": "edge5",
      "start": { "id": "processResults", "type": "output" },
      "end": { "id": "logSummaryData", "type": "input" },
      "startX": 1104,
      "startY": 328,
      "endX": 1136,
      "endY": 200
    },
    {
      "id": "edge6",
      "start": { "id": "logSummaryData", "type": "output" },
      "end": { "id": "notifyTeam", "type": "input" },
      "startX": 1424,
      "startY": 200,
      "endX": 1136,
      "endY": 264
    }
  ],
  "zoomLevel": 1,
  "canvasOffsetX": -450,
  "canvasOffsetY": 201,
  "isTinyNodeMode": false
}
